При закрытии всплывающего окна confirm закрывается блок редактирования
Переместить события line в соответствующий объект +
Сохранять фокусирование на выбранном элементе при закрытии окна +
Собрать все стили и скрипты и сделать отдельной библиотекой
Проработать масштабируемость, чтобы можно было сделать несколько веток

Переработать под live()
Инициализация накладывается, потому с увеличением числа изменений увеличивается количество багов

$(document).on("click", "a[data-href]", function (e) {
    // ...
})